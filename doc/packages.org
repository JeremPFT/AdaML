* Packages
** Visualization Levels
+ Minimal :: only shows the package entity and generic parameters
+ Component View :: shows package elements and their relationships; do not
                    include details of such elements
+ Code View :: shows package elements with certain level of detail; elements can
               be other packages, types subprograms, tasks, constants, variables
               and protected objects
** Minimal view
The simplest package representation is\newline

*** code                                                    :BMCOL:B_block:
:PROPERTIES:
:BEAMER_col: 0.65
:END:
_=AdaML=_
#+begin_example
!include AdaML.puml
package("Deep_Thought")
#+end_example

*** figure                                                  :BMCOL:B_block:
:PROPERTIES:
:BEAMER_col: 0.35
:END:
_=UML=_
#+begin_src plantuml :file packages/detail-view.eps
!include AdaML.puml
package("Deep_Thought")
#+end_src

#+RESULTS[9e5758013375e35a0f52d80450f7884201531f36]:
[[file:packages/detail-view.eps]]

** Component view
Component view lets you see other entities contained in the package\newline

*** code                                                    :BMCOL:B_block:
:PROPERTIES:
:BEAMER_col: 0.5
:END:
_=AdaML=_
#+begin_example
!include AdaML.puml
begin_package_spec("Deep_Thought<N>")
  package("Foo_Bar")
  type("Range_Type<N>")
  type_new("Ada.Natural", "Range_Type")
  subprogram("Hello_World")
  subprogram("Hello_Bar")
    depends("Foo_Bar", "Range_Type")
  depends("Hello_Bar", "Hello_World")
  depends("Foo_Bar", "Hello_World")
end()
#+end_example

*** figure                                                    :BMCOL:B_block:
:PROPERTIES:
:BEAMER_col: 0.5
:END:
_=UML=_
#+begin_src plantuml :file packages/code-view.eps
!include AdaML.puml
!depends_stereotype = ""
begin_package_spec("Deep_Thought<N>")
  package("Foo_Bar")
  type("Range_Type<N>")
  type_new("Ada.Natural", "Range_Type")
  subprogram("Hello_World")
  subprogram("Hello_Bar")
  depends("Foo_Bar", "Range_Type")
  depends("Hello_Bar", "Hello_World")
  depends("Foo_Bar", "Hello_World")
  top_down("Hello_World", "Ada.Natural")
end()
#+end_src

#+RESULTS[1bee01e4589d4a85c718fe8d27f958168f8e5b6c]:
[[file:packages/code-view.eps]]

** Code View
Shows package elements\newline

*** code                                                    :BMCOL:B_block:
:PROPERTIES:
:BEAMER_col: 0.6
:END:
_=AdaML=_
#+begin_example
!include AdaML.puml
begin_package("Deep_Thought")
  function("Answer_The_Question", "", "Natural")
private()
  variable("The_Answer", "Natural", 42)
end()
#+end_example

*** figure                                                  :BMCOL:B_block:
:PROPERTIES:
:BEAMER_col: 0.4
:END:
_=UML=_
#+begin_src plantuml :file packages/add-types.eps
!include AdaML.puml
begin_package("Deep_Thought")
  function("Answer_The_Question", "", "Natural")
private()
  variable("The_Answer", "Natural", 42)
end()
#+end_src

#+RESULTS[1f2eabbbd77050b8369aee525a52eeefeef00e6d]:
[[file:packages/add-types.eps]]

*** Ada
#+begin_src ada :exports code
package Deep_Thought is
  function Answer_The_Question return Natural;
private
  The_Answer : Natural := 42;
end FooBar;
#+end_src

** Types and Specifiers
*** code                                                    :BMCOL:B_block:
:PROPERTIES:
:BEAMER_col: 0.6
:END:
_=AdaML=_
#+begin_example
!include AdaML.puml
  generic_with("N : Natural range 1 .. 42")
  type("Range_N", "range 1 .. N")
private()
  variable("The_Answer", "Range_N")
public()
  procedure("Bar", "in out Range_N")
end()
#+end_example

*** figure                                                  :BMCOL:B_block:
:PROPERTIES:
:BEAMER_col: 0.35
:END:
_=UML=_
#+begin_src plantuml :file packages/generic-packages.eps
!include AdaML.puml
begin_package("Deep_Thought<N>")
  generic_with("N : Natural range 1 .. 42")
  type("Range_N", "range 1 .. N")
private()
  variable("The_Answer", "Range_N")
public()
  procedure("Bar", "in out Range_N")
end()
#+end_src

#+RESULTS[1f2eabbbd77050b8369aee525a52eeefeef00e6d]:
[[file:packages/generic-packages.eps]]

*** Warning
When using /entity specifiers/, like =generic=, types, variables and methods
must be manually sorted (contrast with previous slide)

** Config                                                         :noexport:
Local Variables:
org-confirm-babel-evaluate: nil
End:
